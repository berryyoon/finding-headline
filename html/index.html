<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <link rel='stylesheet' href='style.css'>
    <link rel='reset' href='reset.css'>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <title>헤드라인</title>

    <style>
    text:hover {
        stroke: black;
    }
    </style>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="d3.layout.cloud.js"></script>
</head>

<body>
    <!-- Headline을 표시할 부분 -->
    <div id="header">
        <div class="a_main">
            <a href="index.html">
                <h1>헤드라인 </h1>
            </a>
        </div>
        <div class="header_border">
        </div>
    </div>
    <!-- 내용 표시할 main -->
    <div id="main">
        <div id="cloud"></div>
        <script type="text/javascript">
        var weight = 3, // change me
            width = 960,
            height = 500;

        var fill = d3.scale.category20();
        d3.csv("words.csv", function(d) {
                return {
                    text: d.word,
                    size: +d.freq / 100 * weight
                }
            },
            function(data) {
                d3.layout.cloud().size([width, height]).words(data)
                    //.rotate(function() { return ~~(Math.random() * 2) * 90; })
                    .rotate(0)
                    .font("Impact")
                    .fontSize(function(d) { return d.size; })
                    .on("end", draw)
                    .start();

                function draw(words) {
                    d3.select("#cloud").append("svg")
                        .attr("width", width)
                        .attr("height", height)
                        .append("g")
                        .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")")
                        .selectAll("text")
                        .data(words)
                        .enter().append("text")
                        .style("font-size", function(d) { return d.size + "px"; })
                        .style("font-family", "Impact")
                        .style("fill", function(d, i) { return fill(i); })
                        .attr("text-anchor", "middle")
                        .attr("transform", function(d) {
                            return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
                        })
                        .text(function(d) { return d.text; });
                }
            });
        </script>
    </div>
    <!-- 그외 잡다한거 -->
    <div id="footer">
        <p>이부분은 아래에 나중에 들어갈 것을 위해서 남겨둔 부분입니다. 없애고 붙이기가 자유로운 부분입니다.</p>
        <div class="help">
            <a href="#">도움말</a>
            <a href="#">의견보내기</a>
        </div>
    </div>
</body>

</html>